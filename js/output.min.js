function currentCarousel(a){showCarousel(carouselIndex=a)}function showCarousel(a){console.log("next");var b,c=document.getElementsByClassName("carousel"),d=document.getElementsByClassName("dot");for(a>c.length&&(carouselIndex=1),a<1&&(carouselIndex=c.length),b=0;b<c.length;b++)c[b].style.display="none";for(b=0;b<d.length;b++)d[b].className=d[b].className.replace(" active","");c[carouselIndex-1].style.display="block",d[carouselIndex-1].className+=" active"}var carouselIndex=1;$(document).ready(function(){function a(a,b,c){var d=a.synopsis.length>200?a.synopsis.substr(0,200)+"...":a.synopsis,e="";return e+='<div class="carousel fade">',e+='<div class="numbertext">'+b+" / "+c+"</div>",e+='<a href="http://'+a.link+'" target="_blank"><img class="carousel-img" src="'+a.imageurl+'" ></a>',e+='<div class="title">'+a.title+"</div>",e+='<div class="describe">'+d+"</div></div>"}function b(a){return'<span class="dot" onclick="currentCarousel('+a+')"></span>'}$.ajax({url:"data.json",dataType:"json",success:function(c){console.log(c);for(var d="",e="",f=0;f<c.carousel.length;f++)d+=a(c.carousel[f],f+1,c.carousel.length),e+=b(f+1);$("#inject-content").html(d),$("#navigation").html(e),showCarousel(1)}}),setInterval(function(){showCarousel(carouselIndex+=1)},3e3),showCarousel(carouselIndex)});